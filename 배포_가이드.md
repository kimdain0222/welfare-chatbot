# 🚀 복지정책 챗봇 배포 가이드

## 📋 배포 전 준비사항

### 1. GitHub 저장소 생성
```bash
# B조 폴더를 Git 저장소로 초기화
cd C:\B조
git init
git add .
git commit -m "Initial commit: 복지정책 챗봇 프로젝트"
```

### 2. GitHub에 푸시
```bash
# GitHub에서 새 저장소 생성 후
git remote add origin https://github.com/your-username/welfare-chatbot.git
git branch -M main
git push -u origin main
```

---

## 🌐 배포 방법

### **방법 1: Vercel + Railway (추천)**

#### **1단계: 백엔드 배포 (Railway)**

1. **Railway 계정 생성**
   - https://railway.app 접속
   - GitHub 계정으로 로그인

2. **프로젝트 생성**
   ```
   New Project → Deploy from GitHub repo
   → B조 저장소 선택 → backend 폴더 선택
   ```

3. **환경 변수 설정**
   ```
   Variables 탭에서 추가:
   - IBM_API_KEY: kYt1RUcGM7Z2ABr5562ECaO8I5wSQ3UPU6pAYHiWy3C7
   - FLASK_ENV: production
   - DEBUG: False
   ```

4. **배포 확인**
   ```
   배포 완료 후 제공되는 URL 복사
   예: https://welfare-backend-production.up.railway.app
   ```

#### **2단계: 프론트엔드 배포 (Vercel)**

1. **Vercel 계정 생성**
   - https://vercel.com 접속
   - GitHub 계정으로 로그인

2. **프로젝트 생성**
   ```
   New Project → Import Git Repository
   → B조 저장소 선택 → front/yu_hackathon/chatbot-ui 폴더 선택
   ```

3. **환경 변수 설정**
   ```
   Environment Variables에서 추가:
   - REACT_APP_API_URL: https://your-backend-url.railway.app
   ```

4. **배포 확인**
   ```
   배포 완료 후 제공되는 URL 확인
   예: https://welfare-chatbot.vercel.app
   ```

---

### **방법 2: Heroku (대안)**

#### **백엔드 배포**
```bash
# Heroku CLI 설치 후
cd C:\B조\backend
heroku create welfare-backend-api
heroku config:set IBM_API_KEY=kYt1RUcGM7Z2ABr5562ECaO8I5wSQ3UPU6pAYHiWy3C7
git push heroku main
```

#### **프론트엔드 배포**
```bash
cd C:\B조\front\yu_hackathon\chatbot-ui
heroku create welfare-chatbot-frontend
heroku config:set REACT_APP_API_URL=https://your-backend-url.herokuapp.com
git push heroku main
```

---

### **방법 3: Netlify + Render (무료 대안)**

#### **백엔드 (Render)**
1. https://render.com 접속
2. New Web Service → GitHub 연결
3. backend 폴더 선택
4. Build Command: `pip install -r requirements.txt`
5. Start Command: `gunicorn app_flask_api_server:app`

#### **프론트엔드 (Netlify)**
1. https://netlify.com 접속
2. New site from Git → GitHub 연결
3. front/yu_hackathon/chatbot-ui 폴더 선택
4. Build command: `npm run build`
5. Publish directory: `build`

---

## 🔧 배포 후 설정

### **1. CORS 설정 업데이트**
```python
# backend/app_flask_api_server.py에서
CORS(app, origins=[
    'https://your-frontend-url.vercel.app',
    'http://localhost:3000'
])
```

### **2. 데이터베이스 마이그레이션**
```bash
# Railway/Render에서 SQLite 대신 PostgreSQL 사용 권장
# 또는 SQLite 파일을 클라우드에 업로드
```

### **3. 도메인 설정 (선택사항)**
```
Vercel/Netlify에서 커스텀 도메인 연결 가능
예: welfare-chatbot.com
```

---

## 📊 모니터링 및 유지보수

### **1. 로그 확인**
- Railway: Dashboard → Deployments → Logs
- Vercel: Dashboard → Functions → Logs

### **2. 성능 모니터링**
- Vercel Analytics 활성화
- Railway Metrics 확인

### **3. 자동 배포**
- GitHub에 푸시하면 자동 배포
- 브랜치별 환경 분리 가능

---

## 🚨 문제 해결

### **일반적인 문제들**

1. **CORS 오류**
   ```
   백엔드 CORS 설정에서 프론트엔드 URL 추가
   ```

2. **환경 변수 오류**
   ```
   배포 플랫폼에서 환경 변수 재설정
   ```

3. **빌드 실패**
   ```
   로컬에서 npm run build 테스트 후 배포
   ```

4. **API 연결 실패**
   ```
   프론트엔드 환경 변수에서 백엔드 URL 확인
   ```

---

## 🎯 최종 URL 예시

배포 완료 후:
- **프론트엔드**: https://welfare-chatbot.vercel.app
- **백엔드 API**: https://welfare-backend.railway.app
- **API 문서**: https://welfare-backend.railway.app/api/health

이제 전 세계 어디서나 접속 가능한 웹 서비스가 완성됩니다! 🌍 